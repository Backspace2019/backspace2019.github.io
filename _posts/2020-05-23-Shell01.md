---
layout:     post
title:      "[Shell]脚本编程学习札记"
subtitle:   在Linux环境下进行
date:       2020-05-23 00:00:00
author:     "Backspace"
header-img: "img/post-bg-apple-event-2015.jpg"
tags:
    - shell
---

## 解析器

`[atguigu@hadoop101 ~]$ cat /etc/shells`通过这个命令查看解析器

```shell
/bin/sh
/bin/bash
/sbin/nologin
/bin/dash
/bin/tcsh
/bin/csh
```

一般用的是`/bin/sh`和`/bin/bash`，两个有什么关系呢？

`sh`是`bash`的一种特殊的模式，也就是 `/bin/sh` 相当于 `/bin/bash --posix`。说白了`sh`就是 开启了`POSIX`(可移植操作系统接口)标准的`bash` 。`sh一般设成bash的软链`。

CentOS默认的解析器就是`/bin/bash`。

------

## 脚本入门

1.写一个Shell脚本输出HelloWorld

```shell
//声明解析器
#!/bin/bash
//逻辑代码
cd /opt/module	//去到指定目录
touch hello.txt //新建文件
echo "HelloWorld">>hello.txt //把内容输出到指定文件
```

2.脚本执行方式

- 采用`bash+脚本`或`sh+脚本` 的`相对路径`或`绝对路径`（*不用赋予脚本+x权限*）
- 直接采用脚本的`绝对路径`或`相对路径`执行脚本（*必须具有可执行权限+x*）`chmod 777` 或 `chmod u+x`
- 在脚本的路径前加上`“.”`，可以使脚本内容在当前shell里执行，而无需打开子shell，前两种都需要开子shell！

注意：开子shell与不开子shell的区别就在于，环境变量的继承关系，如在子shell中设置的当前变量，父shell是不可见的。

有以下脚本：

```shell
[root@0725pc shells]# cat test1.sh 
#! /bin/bash
A="hello"
```

分别使用sh,bash,./ 和 . 的方式来执行，结果如下：

```shell
[root@0725pc shells]# bash test1.sh 
[root@0725pc shells]# echo $A

[root@0725pc shells]# sh test1.sh 
[root@0725pc shells]# echo $A
 
[root@0725pc shells]# ./test1.sh 
[root@0725pc shells]# echo $A

[root@0725pc shells]# . test1.sh 
[root@0725pc shells]# echo $A
hello
```

------

## 变量

### 1.系统变量

不需要定义就可以直接使用的变量

`$HOME`,`$PATH`,`$PWD`,`$SHELL`等，可以通过`set`查看

### 2.自定义变量

语法：

- 定义变量`变量=值`，*=两边不能有空格*
- 撤销变量 `unset 变量`
- 声明静态变量 `readonly 变量`
- 把变量提升为全局环境变量 `export 变量名`
- 在bash中，变量默认类型都是`字符串类型`，无法直接进行数值运算
- 变量的`值`如果有空格，需要使用`双引号`或`单引号`括起来

### 3.特殊变量

- $n
- $#
- $*
- $@
- $?

------

## 运算符



------

## 条件判断



------

## 流程控制



------

## read读取控制台输入



------

## 函数



------

## Shell工具



------

## 企业真实面试题

