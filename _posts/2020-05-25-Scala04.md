---
layout:     post
title:      "[Scala] 流程控制"
subtitle:   "Scala-2.11.8"
date:       2020-05-24 10:53:00
author:     "Backspace"
header-img: "img/post-bg-apple-event-2015.jpg"
tags:
    - Scala
---

[TOC]



### 分支控制

#### 1. 单分支

```scala
if(布尔表达式) {
  // 如果布尔表达式为 true 则执行该语句块
}
```

- Scala语言中`==`和`equals`是比较字符串的值
- Scala语言中`eq`比较字符串的地址，eq在编译之后就是java中的`==`
- JavaScript中用`===`比较地址值

#### 2. 双分支

```scala
if(布尔表达式) {
  // 如果布尔表达式为 true 则执行该语句块
} else {
  // 如果布尔表达式为 false 则执行该语句块
}
```

- Scala没有三元运算符，双分支结构在某些情况下也可以代替Java中的三元运算符
- Scala中所有表达式都有返回结果
- Scala中会将满足条件的最后一条作为表达式的返回结果
- **如果if代码只有一行可以省略{}**
- Scala也是静态类型语言，需要在编译时确定变量的类型
- 所以如果不执行逻辑需要确定类型，那么就必须使用通用父类型

#### 3. 多分支

```scala
if(布尔表达式1) {
  // 如果布尔表达式1为 true，则执行该语句块
} else if ( 布尔表达式2 ) {
  // 如果布尔表达式2为 true，则执行该语句块
}...
} else {
  // 上面条件都不满足的场合，则执行该语句块
}
```

```scala
object ScalaBranch {
  def main(args: Array[String]): Unit = {
​    val age = 30
​    val result = if ( age < 18 ) {
​      "童年"
​    } else if ( age <= 30 ) {
​      "青年"
​    } else if ( age <= 50 ) {
​      "中年"
​    } else {
​      "老年"
​    }
     //scala中的表达式都是有返回值的，所以可以直接打印输出 result
​    println(result)
  }
}
```

------

### 循环控制

#### 1. for循环

```scala
for ( 循环变量 <- 数据集 ) {
  循环体
}
```

数据集可以是任意类型的数据集合，如集合，字符串，数组有三种写法

```scala
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    for ( i <- Range(1,5) ) { // 范围集合
​      println("i = " + i )
​    }
​    for ( i <- 1 to 5 ) { // 包含5
​      println("i = " + i )
​    }
​    for ( i <- 1 until 5 ) { // 不包含5
​      println("i = " + i )
​    }
  }
}
```

**1.1.循环守卫**

把for中的if循环判断放到了括号里

```scala
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    for ( i <- Range(1,5) if i != 3 ) {//if后面的就叫循环守卫
​      println("i = " + i )
​    }
  }
}
```

**1.2.循环步长**

```scala
//对比java中的i++理解
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    for ( i <- Range(1,5,2) ) {//2表示步长
​      println("i = " + i )
​    }
​    for ( i <- 1 to 5 by 2 ) {//by 2 表示步长
​      println("i = " + i )
​    }
  }
}
```

**1.3.循环嵌套**

```scala
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    for ( i <- Range(1,5); j <- Range(1,4) ) {//这也是一种循环嵌套，两个for循环之间不需要写代码的时候可以简化
​      println("i = " + i + ",j = " + j )
​    }
​    for ( i <- Range(1,5) ) {
​      for ( j <- Range(1,4) ) {//这是另一种循环嵌套
​        println("i = " + i + ",j = " + j )
​      }
​    }
  }
}
```

**1.4.引入变量**

```scala
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    for ( i <- Range(1,5); j = i - 1 ) {//跟循环条件有关系的变量可以提上来
​      println("j = " + j )
​    }
  }
}
```

**1.5.返回值**

```scala
object ScalaLoop {
  def main(args: Array[String]): Unit = {
​    val result = for ( i <- Range(1,5) ) yield {//需要使用yield关键字
​      i * 2
​    }
​    println(result)
  }
}
```

------

#### 2. while循环



------

#### 3. 循环中断



------

#### 4. 循环嵌套



