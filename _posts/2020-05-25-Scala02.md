---
layout:     post
title:      "[Scala] 变量和数据类型"
subtitle:   "Scala-2.11.8"
date:       2020-05-24 10:51:00
author:     "Backspace"
header-img: "img/post-bg-apple-event-2015.jpg"
catalog:      true
tags:
    - Scala
---

### 变量

#### 基本语法

变量的类型在变量名之后等号之前声明。

```scala
object ScalaVariable {
  def main(args: Array[String]): Unit = {
​    // var | val 变量名 ：变量类型 = 变量值
​    // 用户名称
​    var username : String = "zhangsan"//可变
​    // 用户密码
​    val userpswd : String = "000000" //不可变
  }
}
```

变量的类型如果能够通过变量值推断出来，那么可以省略类型声明，这里的省略，并不是不声明，而是由Scala编译器在编译时自动声明编译的。

#### 变量初始化

scala中的变量必须显式的初始化。

```scala
object ScalaVariable {
  def main(args: Array[String]): Unit = {
​    var username // Error
​    val username = "zhangsan" // OK
  }
}
```

------

### 标识符

```scala
// 和Java不一样的标识符命名规则
val + = "lisi" // OK
val - = "lisi" // OK
val * = "lisi" // OK
val / = "lisi" // OK
val ! = "lisi" // OK
val @@ = "lisi" // OK
val ## = "lisi" // OK
val % = "lisi" // OK
val ^ = "lisi" // OK
val & = "lisi" // OK
val == = "lisi" // OK
val :: = "lisi" // OK
val "" = "lisi" // OK
val < = "lisi" // OK
val > = "lisi" // OK
val ? = "lisi" // OK
val | = "lisi" // OK
val \ = "lisi" // OK
val ~ = "lisi" // OK
val :-> = "wangwu" // OK
val :-< = "wangwu" // OK

//val ; = "lisi" // Error
//val ' = "lisi" // Error
//val " = "lisi" // Error
//val [ = "lisi" // Error
//val ] = "lisi" // Error
//val : = "lisi" // Error
//val ( = "lisi" // Error
//val ( = "lisi" // Error
//val ) = "lisi" // Error
//val = = "lisi" // Error
//val # = "lisi" // Error
//val @ = "lisi" // Error
//val ` = "lisi" // Error

// 切记，能声明和能使用是两回事
```

------

### 字符串

- 在 Scala 中，字符串的类型实际上是 Java String，它本身没有 String 类。
- 在 Scala 中，String 是一个不可变的对象，所以该对象不可被修改。这就意味着你如果修改字符串就会产生一个新的字符串对象

#### 字符串连接

```scala
object ScalaString {
  def main(args: Array[String]): Unit = {
​    // 字符串连接
​    println("Hello " + name)
  }
}
```

#### 传值字符串

```scala
object ScalaString {
  def main(args: Array[String]): Unit = {
​    // 传值字符串(格式化字符串)
​    printf("name=%s\n", name)
  }
}
```

#### 插值字符串

```scala
object ScalaString {
  def main(args: Array[String]): Unit = {
​    // 插值字符串
​    // 将变量值插入到字符串
​    println(s"name=$name")
  }
}
```

#### 多行字符串

```scala
object ScalaString {
  def main(args: Array[String]): Unit = {
​    // 多行格式化字符串
​    // | 默认顶格符
​    println(
​          s"""
​           | Hello
​           | ${name}
​    """.stripMargin)
}
}
```

------

### 输入输出

#### 从屏幕输入

```scala
object ScalaIn {
  def main(args: Array[String]): Unit = {
​    // 标准化屏幕输入
​    val age : Int = scala.io.StdIn.readInt()
​    println(age)
}
}
```

#### 从文件输入

```scala
object ScalaIn {
  def main(args: Array[String]): Unit = {
​    scala.io.Source.fromFile("input/user.json").foreach(
​      line => {
​        print(line)
​      }
​    )
```

#### 文本写操作输出

```scala
object ScalaOut {
  def main(args: Array[String]): Unit = {
   val writer = new PrintWriter(new File("output/test.txt" ))
   writer.write("Hello Scala")
   writer.close()
}
}
```

------

### 数据类型

#### JAVA的数据类型

1. 基本类型：byte,short,char,int,long,float,double,boolean
2. 引用类型：Object，数组，字符串，包装类，集合，POJO对象等

#### Scala的数据类型

Scala是完全面向对象的语言，所以不存在基本数据类型的概念，有的只是任意值对象（AnyVal）和任意引用对象(AnyRef)

![](/img/in-post/2020-05/scala1.png)

------

### 类型转换

隐式转换

```
object ScalaDataType {
  def main(args: Array[String]): Unit = {
​    val b : Byte = 10
​    val s : Short = b
​    val i : Int = s
​    val lon : Long = i
}
}
```

强制类型转换

l Java语言

```scala
int a = 1
byte b = (byte)a
```

l Scala语言

```scala
var a : Int = 10
Var b : Byte = a.toBytescala
```

字符串类型转换

scala是完全面向对象的语言，所有的类型都提供了toString方法，可以直接转换为字符串

```scala
lon.toString
```